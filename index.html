<!--
    o8o               oooooooo     .                 oooooooo                 oooo
    `"'              dP"""""""   .o8                dP"""""""                 `888
   oooo oooo  oooo  d88888b.   .o888oo oooo  oooo  d88888b.       ooo. .oo.    888
   `888 `888  `888      `Y88b    888   `888  `888      `Y88b      `888P"Y88b   888
    888  888   888        ]88    888    888   888        ]88       888   888   888
    888  888   888  o.   .88P    888 .  888   888  o.   .88P  .o.  888   888   888
    888  `V88V"V8P' `8bd88P'     "888"  `V88V"V8P' `8bd88P'   Y8P o888o o888o o888o
.o. 88P
`Y888P  >> Braveaux, het lezen van de broncode is de eerste stap naar verlichting!

Aangedreven door reveal.js van Hakim El Hattab!

Alle inhoud van dit bestand is Copyleft 2013 onder CC-BY-SA, all wrongs reversed.
-->
<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <title>Inleiding D3</title>

    <meta name="description" content="Verrassende interactieve visualisaties in 75 minuten!" />
    <meta name="author" content="Justus Sturkenboom <justus@ju5tu5.nl>" />

    <meta name="apple-mobile-web-app-capable" content="yes" />
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">

    <link rel="stylesheet" href="static/css/reveal.min.css" />
    <link rel="stylesheet" href="static/css/serif.css" />
    <link rel="stylesheet" href="static/css/monokai_sublime.css" />
    <link rel="stylesheet" href="static/css/d3_svg.css">
    
    <!--[if lt IE 9]>
    <script src="static/js/html5shiv.js"></script>
    <![endif]-->
</head>
<body>
    <div id='artboard' class="chart" style="position:absolute;top:0;width:100%;height:100%;border:1px;"></div>

    <div class="reveal">
        
        <div class="slides">
            
            <section>
                <h1>Inleiding D3</h1>

                <h3>Verrassende interactieve visualisaties in 75 minuten!</h3>
                <p>
                    <small>
                        <a href="http://www.hva.nl" target="_blank">Hogeschool van Amsterdam</a><br/>
                        <a href="http://www.cmd-amsterdam.nl" target="_blank">CMD-Amsterdam</a><br />
                        <a href="http://www.dataviz.nl" target="_blank">Datavisualisatie</a><br />
                        <a href="http://ju5tu5.nl" target="_blank">Justus Sturkenboom</a>
                    </small>
                </p>
            </section>

            <section>
                <ul>
                    <li>d3: Data Driven Documents</li>
                    <li>Oefening: Data en DOM-elementen</li>
                    <li>Dynamische Data</li>
                    <li>Oefening: Enter, append, exit...</li>
                    <li>Interactie met gebruikers (10 min)</li>
                    <li>Oefening: Aanpassen van visualisaties na interactie (10 min)</li>
                    <li>Vervolgstappen</li>
                </ul>
            </section>
            
            <!-- D3, Data-Driven Documents (5 min) -->
            
            <section>
                <section>
                    <img src="media/img/D3-logo.svg" style="border:0px;box-shadow:none;" alt="D3" /><br/>
                    <p><small>(<a href="https://groups.google.com/forum/?fromgroups=#!topic/d3-js/_AHWMqF1_WQ" target="_blank">D3 Logo Contest</a>)</small></p>
                </section>
                
            </section>
            
            <section>
                <section>
                    <img src="media/img/HTML5-logo.svg" style="border:0px;box-shadow:none;" alt="HTML5" /><br/>
                </section>
                
                <section>
                    <h2>HTML5 in a nutshell</h2>
                    <pre><code>&lt;!DOCTYPE html&gt;
&lt;html&gt;
&lt;head&gt;
    &lt;title&gt;Een titel&lt;/title&gt;
&lt;/head&gt;
&lt;body&gt;

    &lt;h1&gt;Ik ben een titel&lt;/h1&gt;
    &lt;p&gt;Ik ben een alinea&lt;/p&gt;
    &lt;a href="http://voorbeeld.nl"&gt;Ik ben een referentie&lt;/a&gt;

    &lt;article&gt;
        &lt;p&gt;Ik ben een alinea, genest in een artikel!&lt;/p&gt;
    &lt;/article&gt;

&lt;/body&gt;
&lt;/html&gt;</code></pre>
                </section>

                <section>
                    <h3>HTML5 Resources</h3>
                    <a href="http://www.html5rocks.com/en/resources" target="_blank">HTML5 Rocks - Resources</a>
                    <a href="http://learn.shayhowe.com/html-css/">A Beginners Guide to HTML &amp; CSS</a>
                </section>
            </section>
            
            <section>
                <section>
                    <img src="media/img/CSS3-logo.svg" style="border:0px;box-shadow:none;" alt="CSS3" />
                </section>

                <section>
                    <h2>CSS in a nutshell</h2>
                    <pre><code>body {
    background: grey;
    font-family: "Palatino Linotype", Palatino, FreeSerif, serif;
    color: black;
}

h1 {
    font-weight: bold;
    font-size: 2em;
}

article p {
    padding-bottom: 1em;
    color: red;
}</code></pre>
                </section>

                <section>
                    <h2>CSS Resources</h2>
                    <a href="http://www.html5rocks.com/en/resources" target="_blank">HTML5 Rocks - Resources</a>
                    <a href="http://learn.shayhowe.com/html-css/">A Beginners Guide to HTML &amp; CSS</a>
                </section>

            </section>

            <section>
                <section>
                    <img src="media/img/SVG-logo.svg" style="border:0px;box-shadow:none;" alt="Scalable Vector Graphics" />
                </section>

                <section>
                    <h2>SVG in a Nutshell</h2>
                    <pre><code>&lt;svg width="864" height="200"&gt;
    &lt;line x1="20" y1="100" x2="844" y2="100" /&gt;
    &lt;line x1="20" y1="20" x2="20" y2="190" /&gt;

    &lt;circle cx="150" cy="100" r="10" /&gt;
    &lt;circle cx="350" cy="150" r="20" /&gt;
    &lt;circle cx="550" cy="50" r="30" /&gt;
    &lt;circle cx="750" cy="130" r="40" /&gt;
&lt;/svg&gt;</code></pre>
                    <svg id="svgSample" width="864" height="200">
                        <line x1="20" y1="100" x2="844" y2="100" />
                        <line x1="20" y1="20" x2="20" y2="190" />

                        <circle cx="150" cy="100" r="10" />
                        <circle cx="350" cy="150" r="20" />
                        <circle cx="550" cy="50" r="30" />
                        <circle cx="750" cy="130" r="40" />
                    </svg>
                </section>

                <section>
                    <h3>SVG Resources</h3>
                    <a href="http://www.w3schools.com/svg/svg_intro.asp">W3Schools SVG tutorial</a><br />
                    <a href="http://commons.oreilly.com/wiki/index.php/SVG_Essentials">SVG Essentials op de O'Reilly Wiki!</a>
                </section>
            </section>
            
            <section>
                <section>
                    <img src="media/img/JS-logo.svg" style="border:0px;box-shadow:none;" alt="Javascript" />
                </section>
                
                <section>
                    <h2>Javascript in a nutshell</h2>
                    <pre><code>var groet = "Hallo wereld!"
    aantal = 42;

var zegHallo = function () {
    for(var i=0; i&lt;42; i+=1) {
        console.log(groet);
    }
};
</code></pre>
                </section>
                
                <section>
                    <h2>JSON in a nutshell</h2>
                    <pre><code>var object = {
    eigenschap: "waarde",
    nummeriek: 42,
    functies: function () { console.log('What?');}
};</code></pre>
                </section>

                <section>
                    <h3>Javascript Resources</h3>
                    <a href="http://eloquentjavascript.net/">Eloquent Javascript van Marijn Haverbeke</a>
                    <p>Crockford, Douglas. <em>Javascript, the good parts</em>, O'Reilly, 2008</p>
                </section>
            </section>

            <!-- Hoe werkt D3? (10 min) -->
            <section>
                 <section style="text-align: left">
                    <h2>d3: Data Driven Documents</h2>
                    <ol>
                        <li>Gegevens inladen</li>
                        <li>Koppelen van gegevens aan DOM-elementen</li>
                        <li>Transformeren van DOM-elementen a.d.h.v. gegevens</li>
                        <li>Transitie van elementen na interactie</li>
                    </ol>
                    <br /><br />
                    <p>Data-hiding is geen optie. Open Data FTW!</p>
                </section>

                <section>
                    <h2>Selectie</h2>
                </section>

                <section>
                    <pre><code>var data = [23, 89, 17, 31, 11];

var svg = d3.select("body").append("svg")
    .attr("width", width)
    .attr("height", height);

var circles = svg.selectAll("circle")
    .data(data)
  .enter()
    .append("circle");

// ...
                    </code></pre>
                    <img src="media/img/selections.svg" alt="Selecties in D3" style="border: 0;box-shadow:none;" />
                </section>

                <section>
                    
                </section>
            </section>

            <!-- Oef: Hallo wereld... Basic DOM en SVG! BINDING DATA TO ELEMENTS (10 min) -->
            <section> <!-- alert, soothe, blackout, whiteout, cobalt, mint, submerge, lila, sunset -->
                <section data-state="soothe"></section>

                <section data-state="soothe">
                    <a href="examples/oef1_standardista.html" target="_blank">oef1_standardista.html</a>
                    <pre><code>&lt;!DOCTYPE html&gt;
&lt;html&gt;
&lt;head&gt;
    &lt;meta charset="utf-8"&gt;
    &lt;title&gt;Hello world!&lt;/title&gt;
    &lt;link rel="stylesheet" href="oef1_style.css" /&gt;
&lt;/head&gt;
&lt;body&gt;
    
    &lt;script src="d3/d3.v3.min.js"&gt;&lt;/script&gt;
    &lt;script src="oef1_script.js"&gt;&lt;/script&gt;
&lt;/body&gt;
&lt;/html&gt;</code></pre>
                    <a href="examples/oef1_style.css" target="_blank">oef1_style.css</a>
                    <pre><code contenteditable>/* Jouw wonderlijke Stylesheet */</code></pre>
                    <a href="examples/oef1_script.js" target="_blank">oef1_script.js</a>
                    <pre><code contenteditable>/* Jouw elegante Javascript */</code></pre>
                    <p>Voordelen: Overdraagbaar, Beheerbaar, Herbruikbaar</p>
                </section>

                <section data-state="soothe">
                    <a href="examples/oef1_valide.html" target="_blank">oef1_valide.html</a>
                <pre><code>&lt;!DOCTYPE html&gt;
&lt;meta charset="utf-8"&gt;
&lt;style&gt;/* Jouw wonderlijke Stylesheet */&lt;/style&gt;
&lt;body&gt;
&lt;script src="d3/d3.v3.min.js"&gt;&lt;/script&gt;
&lt;script&gt;/* Jouw elegante Javascript */&lt;/script&gt;</code></pre>
                <p>Voordelen: Makkelijker, Sneller</p>
                </section>
                
                <section data-state="soothe">                    
                    <pre><code>svg {
    background: silver;
    border: 1px solid black;
}

.oef1_cirkel {
    fill: white;
    stroke: red;
}</code></pre>
                    <p>Allereerst leggen we vast hoe de visualisatie er uit komt te zien. Neem onderstaande stijlregels over in het .css bestand of de &lt;style&gt; tag. Experimenteer met andere kleuren.</p>
                </section>

                <section data-state="soothe">
                    <pre><code>var dataset = [..]; // voer een serie getallen in bijv. [1,1,2,3,5,8]

var svg = d3.select("body").append("svg")
    .attr("width", 400)
    .attr("height", 300);

var circles = svg.selectAll("circle")
  .data(dataset)
    .enter()
    .append("circle");

circles.attr("cx", function (d, i) {
        return (i * 50) + 25;
    })
    .attr("cy", 150)
    .attr("r", function (d) { return d; })
    .attr("class", "oef1_cirkel");</code></pre>
                    <p>(losse atributen)</p>
                </section>



            <section data-state="soothe">
                    <pre><code>var dataset = [..]; // voer een serie getallen in bijv. [1,1,2,3,5,8]

var svg = d3.select("body").append("svg")
    .attr("width", 400)
    .attr("height", 300);

var circles = svg.selectAll("circle")
  .data(dataset)
    .enter()
    .append("circle");

circles.attr({
        cx: function (d, i) { return (i * 50) + 25; },
        cy: 150,
        r:  function (d) { return d; },
        class: "oef1_cirkel"
    });</code></pre>
                    <p>(&eacute;&eacute;n object met alle attributen)</p>
                </section>

            </section>

            
            <!-- Dynamic Data (Enter, Update, Exit) (10 min) -->
            <section>
                <section>
                    <h2>Dynamische Data</h2>
                    <p><em>Omdat statisch saai is (^.^)</em></p>
                </section>

                <section>
                    <pre><code>var data = [23, 89, 17, 31, 11];

var svg = d3.select("body").append("svg")
    .attr("width", width)
    .attr("height", height);

var circles = svg.selectAll("circle")
    .data(data)
  .enter()
    .append("circle");

// ...
                    </code></pre>
                    <img src="media/img/selections.svg" alt="Selecties in D3" style="border: 0;box-shadow:none;" />
                </section>

                <section>
                    <pre><code>// ...

data.push(47, 71);

circles = svg.selectAll("circle")
    .data(data)
    .attr("class", "update")
  .enter()
    .append("circle")
    .attr("class", "enter");

// ...
                    </code></pre>
                    <img src="media/img/selectionsEnter.svg" alt="Selecties in D3" style="border: 0;box-shadow:none;" />
                </section>

                <section>
                    <img src="media/img/selectionsVenn.svg" alt="exit, update, enter" style="border: 0;box-shadow:none;" />
                </section>
                
                <section>
                    <pre><code>// ...
data.splice(3, 2);

circles = svg.selectAll("circle")
    .data(data);
    .attr({
        // verander alle nodige attributen 
    })
  .enter()
    .append("circle")
    .attr({
        // geef alle nodige attributen mee
    });
  .exit()
    .remove();
// ...</code></pre>
                </section>
            </section>

            <section>
                <section>
                    <h2>Inzichtelijk?</h2>
                </section>

                <section>
                    <h2>Inzichtelijkheid++</h2>
                </section>
                
                <section>
                    <h2>Samengestelde data</h2>
                    <pre><code>var data = [
    [23, 45],
    [12, 3],
    [38, 42]
    //etc.
];</code></pre>
                </section>

                <section>
                    <h2>Schaal</h2>
                    <pre><code>// ...
var xScale = d3.scale.linear()
    .domain([0, d3.max(data, function(d) { return d[0]; })])
    .range([padding, width - padding * 2]);

var yScale = d3.scale.linear()
    .domain([0, d3.max(data, function(d) { return d[1]; })])
    .range([height - padding, padding]);
// ...</code></pre>
                    <ul>
                        <li>Input = domain</li>
                        <li>Output = range</li>
                    </ul>
                </section>

                <section>
                    <h2>x- en y-as</h2>
                    <pre><code>// ...
var xAxis = d3.svg.axis()
    .scale(xScale)
    .orient("bottom")
    .ticks(5);

var yAxis = d3.svg.axis()
    .scale(yScale)
    .orient("left")
    .ticks(5);
// ...</code></pre>
                </section>

                <section>
                    <h2>x- en y-as</h2>
                    <pre><code>// ...

svg.append("g")
    .attr("class", "axis")
    .attr("transform", "translate(0," + (height - padding) + ")")
    .call(xAxis);

svg.append("g")
    .attr("class", "axis")
    .attr("transform", "translate(" + padding + ",0)")
    .call(yAxis);

// ...</code></pre>
                </section>
            </section>

            <!-- Oef: e,a,e (10 min) -->
            <section>
                <section data-state="soothe">
                    
                </section>

                <section data-state="soothe">
                    <p>oef2_script.js (of oef2_valide.html)</p>
                    <pre><code>// Voeg op regel 17 (49) toe
var yScale = d3.scale.linear()
    .domain([0, d3.max(data, function(d) { return d[1]; })])
    .range([height - padding, padding]);

// Voeg op regel 29 (60) toe
var yAxis = d3.svg.axis()
    .scale(yScale)
    .orient("left")
    .ticks(5);

                    </code></pre>
                </section>

                <section data-state="soothe">
                    <p>oef2_script.js (of oef2_valide.html)</p>
                    <pre><code>data.push([42,42], [25, 36]); // Voeg zelf meer coordinaten toe
var points = svg.selectAll("circle")
    .data(data)
    .attr("class", "oef2_cirkel_update") // Aanpassen bestaande selectie
  .enter()
    .append("circle") // Toevoegen nieuwe selectie
    .attr({
        cx: function (d) { return xScale(d[0])},
        cy: function (d) { return yScale(d[1])},
        r: 3,
        class: "oef2_cirkel_enter"
    });                 
                    </code></pre>
                </section>
            </section>            

            <!-- Interactie met gebruikers (10 min) -->
            <section>
                <section>
                    <h2>Interactie</h2>
                    <!-- image from http://500px.com/photo/26752507 -->
                    <img src="media/img/interface.jpg" alt="Ancient Interface" style="border:0">
                </section>
                
                <section>

                </section>
                
            </section>

            <!-- Oef: event-handling -->
            <section>
                <section data-state="soothe">
                    lijndiagram met interactie!
                </section>

                <section data-state="soothe">
                    <pre><code>// Voeg onderaan de volgende code toe
d3.select("input").on("change", change);

function change () {
    svg.selectAll(".bar, .bar_checked")
        .data(d3.entries(data))
        .attr("class", this.checked?"bar_checked":"bar");
}</code></pre>
                </section>
            </section> 

            <!-- Outro, Vega -->
            <section>
                <section>
                    <h2>Beyond basics</h2>
                    <img src="media/img/d3Advanced.png" alt="D3 Beyond basics" style="border: 0;">
                </section>

                <section>
                    <h2>Vega</h2>
                    <img src="media/img/vega.png" alt="Vega" style="border: 0;">
                    <a href="http://trifacta.github.io/vega/" target="_blank">http://trifacta.github.io/vega/</a>
                </section>
                
                <section>
                    <h2>Vragen?</h2>
                    <a href="https://twitter.com/ju5tu5" target="_blank">@ju5tu5</a>
                    <a href="mailto:justus@ju5tu5.nl" target="_blank">justus@ju5tu5.nl</a>
                </section>

                <section style="text-align: left;">
                    <h2>Bronnen:</h2>
                    <br/>
                    <p>Boeken:</p>
                    <ul>
                        <li>Getting Started with D3</li>
                        <li>Interactive Data Visualisation for the Web</li>
                    </ul><br/><br/>
                    <p>Websites:</p>
                    <ul>
                        <li><a href="http://d3js.org/" target="_blank">d3js.org</a></li>
                        <li><a href="http://bost.ocks.org/mike/selection/" target="_blank">Uitleg over selecties van Mike Bostock</a></li>
                    </ul>
                    <br/><br/>
                    <p>Word lid van: http://www.reddit.com/r/d3js</p>
                </section>
            </section>
            
        </div>

    </div>

    <!-- Scripts should be here -->
    <script src="static/js/d3.v3.min.js"></script>
    <script src="static/js/head.min.js"></script>
    <script src="static/js/reveal.min.js"></script>
    <script src="static/js/d3_intro.js"></script>
</body>
</html>